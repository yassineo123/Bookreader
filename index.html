<!-- Voor de HTML bestand begon ik met de online tutorial van Dani Krossing, (de specefieke videos staan in de documentatie).
Ik wou eerst de basis leren voordat ik ai gebruikte en grote lappen tekst ging importeren. 
Uiteindelijk heeft het wel geholpen, sinds ik een betere grip heb op de taal en aanpassingen kan maken waar ik wil. 
Hetzelfde geldt voor de andere HTML pagina's.-->

<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Open Bibliotheek - Home</title>
    <link rel="stylesheet" href="css/main.css">
    <script src="https://unpkg.com/lucide@latest"></script>

    <!--script.js moet geladen worden op de homepage -->
    <script defer src="script.js"></script>

    <!--nieuwe JS voor trending boeken (uiteindelijk deels verouderd. 
    Boeken worden wel opgehaald maar heb geen trending section kunnen maken)-->
    <script defer>
        document.addEventListener("DOMContentLoaded", async () => {
            const container = document.getElementById("trending-books-container");

            if (!container) return;

            try {
                // haal willekeurige boeken op uit Gutendex voor de hoofdpagina
                const res = await fetch("https://gutendex.com/books/?page=2");
                const data = await res.json();

                // pak 5 willekeurige boeken
                const randomBooks = data.results.slice(0, 5).map(convertBookData);

                container.innerHTML = randomBooks
                    .map(book => createBookCard(book, true))
                    .join("");

                // activeer de klikfunctionaliteit van script.js
                document.querySelectorAll(".book-card-trending").forEach(card => {
                    const bookId = card.dataset.bookId;
                    const book = randomBooks.find(b => b.id === bookId);

                    // Klik = naar detailpagina
                    card.addEventListener("click", (e) => {
                        if (!e.target.closest(".book-action-btn")) {
                            saveBookData(book);
                            window.location.href = `boek-detail.html?id=${bookId}`;
                        }
                    });

                    // Actieknoppen (opslaan/gelezen)
                    card.querySelectorAll(".book-action-btn").forEach(btn => {
                        btn.addEventListener("click", (e) => {
                            e.stopPropagation();
                            handleBookAction(book, btn.dataset.action, btn);
                        });
                    });
                });
                // Error afvangen
            } catch (err) {
                console.error("Error loading trending books:", err);
                container.innerHTML = "<p>Kon voorbeeldboeken niet laden.</p>";
            }
        });
    </script>
</head>

<body>
    <!-- Navbar -->
    <header class="navbar">
        <div class="container navbar-content">
            <a href="index.html" class="logo-link">
                <i data-lucide="library" class="logo-icon"></i>
                <h1>Open Bibliotheek</h1>
            </a>
            <nav class="nav-menu">
                <a href="mijn-boekenplank.html" class="nav-button">
                    Mijn Boekenplank
                </a>
            </nav>
        </div>
    </header>

    <!-- Hero Sectie -->
    <section class="hero">
        <div class="hero-overlay">
            <img src="/img/library_image.png" alt="Library background" class="hero-bg">
        </div>
        <div class="hero-content container">
            <h2 class="hero-title">Welkom bij de Open Bibliotheek</h2>
            <p class="hero-subtitle">
                Ontdek miljoenen boeken, bewaar je favorieten en deel je leeslijst
            </p>

            <!-- Search Bar -->
            <div class="search-container">
                <div class="search-box">
                    <div class="search-input-wrapper">
                        <i data-lucide="search" class="search-icon"></i>
                        <input type="text" id="search-input" placeholder="Zoek naar boeken, auteurs, ISBN..." class="search-input">
                    </div>
                    <button id="search-button" class="search-button">Zoeken</button>
                </div>
            </div>
        </div>
    </section>

    <!--Boekensectie met API boeken -->
    <section id="trending-section" class="trending-section">
        <div class="container">
            <div class="trending-header">
                <h2 class="section-title">Boekenlijst</h2>
                <a href="boekenlijst.html" class="view-all-button">Bekijk alles</a>
            </div>

            <!--container voor geladen boeken -->
            <div id="trending-books-container" class="books-grid"></div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta-section">
        <div class="container cta-content">
            <i data-lucide="users" class="cta-icon"></i>
            <h2 class="cta-title">Maak je eigen boekenplank</h2>
            <p class="cta-subtitle">
                Bewaar boeken die je gelezen hebt en maak leeslijsten.
            </p>
            <a href="mijn-boekenplank.html" class="cta-button">
                Ga naar Mijn Boekenplank
            </a>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-column">
                    <h3 class="footer-heading">Over ons</h3>
                    <p class="footer-text">
                        Open Bibliotheek is een platform voor boekenliefhebbers om boeken te ontdekken,
                        bewaren en delen.
                    </p>
                </div>
                <div class="footer-column">
                    <h3 class="footer-heading">Links</h3>
                    <ul class="footer-list">
                        <li><a href="index.html" class="footer-link">Home</a></li>
                        <li><a href="mijn-boekenplank.html" class="footer-link">Mijn Boekenplank</a></li>
                        <li><a href="#" class="footer-link">Over</a></li>
                    </ul>
                </div>
                <div class="footer-column"></div>
            </div>
            <div class="footer-bottom">
                <p>Â© 2025 Open Bibliotheek.</p>
            </div>
        </div>
    </footer>
</body>
</html>
